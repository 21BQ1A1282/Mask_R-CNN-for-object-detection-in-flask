<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object Detection Result</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <!-- Navigation -->
    <nav>
        <a href="{{ url_for('home') }}" class="logo">Object Detection</a>
        <ul class="nav-links">
            <li><a href="{{ url_for('home') }}">Home</a></li>
            <li><a href="{{ url_for('logout') }}">Logout</a></li>
        </ul>
    </nav>

    <!-- Header -->
    <header>
        <h1>Object Detection Result</h1>
    </header>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Detected Image -->
         <div class="card">
            <h2>Original File</h2>
            {% if original_file.endswith(('.mp4', '.avi', '.mov')) %}
    <video controls>
        <source src="{{ url_for('static', filename='uploads/' + original_file) }}" type="video/mp4">
        Your browser does not support the video tag.
    </video>
{% else %}
    <img src="{{ url_for('static', filename='uploads/' + original_file) }}" alt="Original File" style="width: 100%;">
{% endif %}
         </div>
        <div class="card">
            <h2>Processed File</h2>
            {% if processed_file.endswith(('.mp4', '.avi', '.mov')) %}
    <video controls>
        <source src="{{ url_for('static', filename='results/' + processed_file) }}" type="video/mp4">
        Your browser does not support the video tag.
    </video>
{% else %}
    <img src="{{ url_for('static', filename='results/' + processed_file) }}" alt="Processed File" style="width: 100%;">
{% endif %}
        </div>

        <!-- Add this section where you want the accuracy to appear -->
        <div class="accuracy-section">
            <h2 style="color: #D32F2F;">Model Detection Accuracy:<span style="color: #333;">{{ accuracy }}%</span></h2>
        </div>

        <br><br>
        <a href="{{ url_for('static', filename='results/' + processed_file) }}" download>
        <button class="button" >Download Processed File</button>
        </a>


        
        <!-- Back to Upload -->
        <div class="card">
            <a href="{{ url_for('index') }}" class="button">Upload Another Image</a>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Object Detect. All rights reserved.</p>
    </footer>
</body>
</html>